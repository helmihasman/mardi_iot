script(type='text/javascript', src='/adminlte/plugins/jQuery/jquery-2.2.3.min.js')
script(type='text/javascript', src='https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js')
script(type='text/javascript', src='/adminlte/bootstrap/js/bootstrap.min.js')
script(type='text/javascript', src='/adminlte/plugins/slimScroll/jquery.slimscroll.min.js')
script(type='text/javascript', src='/adminlte/dist/js/app.min.js')
script(type='text/javascript', src='/adminlte/dist/js/demo.js')
script(type='text/javascript', src='/adminlte/plugins/iCheck/icheck.min.js')
script(type='text/javascript', src='/adminlte/plugins/knob/jquery.knob.js')
script(type='text/javascript', src='https://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js')
script(type='text/javascript', src='https://code.jquery.com/ui/1.11.4/jquery-ui.min.js')
script(type='text/javascript', src='/adminlte/plugins/morris/morris.min.js')
script(type='text/javascript', src='/adminlte/plugins/jvectormap/jquery-jvectormap-world-mill-en.js')
script(type='text/javascript', src='/adminlte/plugins/chartjs/Chart.min.js')
script(type='text/javascript', src='/adminlte/plugins/fastclick/fastclick.js')
script(type='text/javascript', src='https://unpkg.com/leaflet@1.0.2/dist/leaflet.js')
script(type='text/javascript',src='/socket.io/socket.io.js')
script(type='text/javascript').
  function goBack() {
    window.history.back();
    }
//script(type='text/javascript').
//  setInterval(function(){ 
 //     window.location.reload(false); 
 //  }, 60000);
 
script(type='text/javascript').
    function formatDate(date){

                 var getnewdate = date.getDate();
                 var getmonth = date.getMonth()+1;
                 var gethours = date.getHours();
                 var getminutes = date.getMinutes();
                 var getseconds = date.getSeconds();
                 var newdate,newmonth,newhours,newminutes,newseconds;

                 if(getnewdate < 10){
                     newdate = "0"+getnewdate;
                 }
                 else{
                     newdate = getnewdate;
                 }

                 if(getmonth < 10){
                     newmonth = "0"+(getmonth);
                 }
                 else{
                     newmonth = (getmonth);
                 }

                 if(gethours < 10){
                     newhours = "0"+gethours;
                 }
                 else{
                     newhours = gethours;
                 }

                 if(getminutes < 10){
                     newminutes = "0"+getminutes;
                 }
                 else{
                     newminutes = getminutes;
                 }

                 if(getseconds < 10){
                     newseconds = "0"+getseconds;
                 }
                 else{
                     newseconds = getseconds;
                 }
               var datetime = newdate + "-"
                    + newmonth  + "-" 
                    + date.getFullYear();

            return datetime;
    } 
 
script(type='text/javascript').
      $(function () {
          var dd;
          var data = document.getElementById("graph_data").value;
            //alert(data);
            if(data!=='undefined'){
            dd = JSON.parse(data);
            //alert(dd);
            //alert(dd.length+" record(s) found");
            }
            
            var date1,date2,date3,date4,date5,date6,date7,date8;
            
            var date8_new = new Date(dd[0].year_s+"-"+dd[0].month_s+"-"+dd[0].day_s);
            //var date8_new = dd[0].day_s+"-"+dd[0].month_s+"-"+dd[0].year_s;
            date8 = formatDate(date8_new);

            var date7_new = new Date(date8_new.getTime());
            date7_new.setDate(date8_new.getDate() - 1);
            date7 = formatDate(date7_new);

            var date6_new = new Date(date7_new.getTime());
            date6_new.setDate(date7_new.getDate() - 1);
            date6 = formatDate(date6_new);

            var date5_new = new Date(date6_new.getTime());
            date5_new.setDate(date6_new.getDate() - 1);
            date5 = formatDate(date5_new);

            var date4_new = new Date(date5_new.getTime());
            date4_new.setDate(date5_new.getDate() - 1);
            date4 = formatDate(date4_new);

            var date3_new = new Date(date4_new.getTime());
            date3_new.setDate(date4_new.getDate() - 1);
            date3 = formatDate(date3_new);

            var date2_new = new Date(date3_new.getTime());
            date2_new.setDate(date3_new.getDate() - 1);
            date2 = formatDate(date2_new);

            var date1_new = new Date(date2_new.getTime());
            date1_new.setDate(date2_new.getDate() - 1);
            date1 = formatDate(date1_new);
            
            var temp1_loc2=0,temp1_loc3=0;
            var temp2_loc2=0,temp2_loc3=0;
            var temp3_loc2=0,temp3_loc3=0;
            var temp4_loc2=0,temp4_loc3=0;
            var temp5_loc2=0,temp5_loc3=0;
            var temp6_loc2=0,temp6_loc3=0;
            var temp7_loc2=0,temp7_loc3=0;
            
        for(var i=0;i<dd.length;i++){
                var datenew = new Date(dd[i].year_s+"-"+dd[i].month_s+"-"+dd[i].day_s);
                var nowdate =  formatDate(datenew);
                
                if((nowdate === date8) && (dd[i].location_env === 'ICU')){
                    temp1_loc2 = dd[i].avg_temp;
                }
                if((nowdate === date7) && (dd[i].location_env === 'ICU')){
                    temp2_loc2 = dd[i].avg_temp;
                }
                if((nowdate === date6) && (dd[i].location_env === 'ICU')){
                    temp3_loc2 = dd[i].avg_temp;
                }
                if((nowdate === date5) && (dd[i].location_env === 'ICU')){
                    temp4_loc2 = dd[i].avg_temp;
                }
                if((nowdate === date4) && (dd[i].location_env === 'ICU')){
                    temp5_loc2 = dd[i].avg_temp;
                }
                if((nowdate === date3) && (dd[i].location_env === 'ICU')){
                    temp6_loc2 = dd[i].avg_temp;
                }
                if((nowdate === date2) && (dd[i].location_env === 'ICU')){
                    temp7_loc2 = dd[i].avg_temp;
                }
                
                if((nowdate === date8) && (dd[i].location_env === 'LAB')){
                    temp1_loc3 = dd[i].avg_temp;
                }
                if((nowdate === date7) && (dd[i].location_env === 'LAB')){
                    temp2_loc3 = dd[i].avg_temp;
                }
                if((nowdate === date6) && (dd[i].location_env === 'LAB')){
                    temp3_loc3 = dd[i].avg_temp;
                }
                if((nowdate === date5) && (dd[i].location_env === 'LAB')){
                    temp4_loc3 = dd[i].avg_temp;
                }
                if((nowdate === date4) && (dd[i].location_env === 'LAB')){
                    temp5_loc3 = dd[i].avg_temp;
                }
                if((nowdate === date3) && (dd[i].location_env === 'LAB')){
                    temp6_loc3 = dd[i].avg_temp;
                }
                if((nowdate === date2) && (dd[i].location_env === 'LAB')){
                    temp7_loc3 = dd[i].avg_temp;
                }
            }
            
            var hum1_loc1=0,hum1_loc2=0,hum1_loc3=0;
            var hum2_loc1=0,hum2_loc2=0,hum2_loc3=0;
            var hum3_loc1=0,hum3_loc2=0,hum3_loc3=0;
            var hum4_loc1=0,hum4_loc2=0,hum4_loc3=0;
            var hum5_loc1=0,hum5_loc2=0,hum5_loc3=0;
            var hum6_loc1=0,hum6_loc2=0,hum6_loc3=0;
            var hum7_loc1=0,hum7_loc2=0,hum7_loc3=0;
            for(var i=0;i<dd.length;i++){

                var datenew = new Date(dd[i].year_s+"-"+dd[i].month_s+"-"+dd[i].day_s);
                var nowdate =  formatDate(datenew);
                
                if((nowdate === date8) && (dd[i].location_env === 'ICU')){
                    hum1_loc1 = dd[i].avg_humidity;
                }
                if((nowdate === date7) && (dd[i].location_env === 'ICU')){
                    hum2_loc1 = dd[i].avg_humidity;
                }
                if((nowdate === date6) && (dd[i].location_env === 'ICU')){
                    hum3_loc1 = dd[i].avg_humidity;
                }
                if((nowdate === date5) && (dd[i].location_env === 'ICU')){
                    hum4_loc1 = dd[i].avg_humidity;
                }
                if((nowdate === date4) && (dd[i].location_env === 'ICU')){
                    hum5_loc1 = dd[i].avg_humidity;
                }
                if((nowdate === date3) && (dd[i].location_env === 'ICU')){
                    hum6_loc1 = dd[i].avg_humidity;
                }
                if((nowdate === date2) && (dd[i].location_env === 'ICU')){
                    hum7_loc1 = dd[i].avg_humidity;
                }
                
                if((nowdate === date8) && (dd[i].location_env === 'LAB')){
                    hum1_loc3 = dd[i].avg_humidity;
                }
                if((nowdate === date7) && (dd[i].location_env === 'LAB')){
                    hum2_loc3 = dd[i].avg_humidity;
                }
                if((nowdate === date6) && (dd[i].location_env === 'LAB')){
                    hum3_loc3 = dd[i].avg_humidity;
                }
                if((nowdate === date5) && (dd[i].location_env === 'LAB')){
                    hum4_loc3 = dd[i].avg_humidity;
                }
                if((nowdate === date4) && (dd[i].location_env === 'LAB')){
                    hum5_loc3 = dd[i].avg_humidity;
                }
                if((nowdate === date3) && (dd[i].location_env === 'LAB')){
                    hum6_loc3 = dd[i].avg_humidity;
                }
                if((nowdate === date2) && (dd[i].location_env === 'LAB')){
                    hum7_loc3 = dd[i].avg_humidity;
                }
              
            }
            
            var air1_loc1=0,air1_loc2=0,air1_loc3=0;
            var air2_loc1=0,air2_loc2=0,air2_loc3=0;
            var air3_loc1=0,air3_loc2=0,air3_loc3=0;
            var air4_loc1=0,air4_loc2=0,air4_loc3=0;
            var air5_loc1=0,air5_loc2=0,air5_loc3=0;
            var air6_loc1=0,air6_loc2=0,air6_loc3=0;
            var air7_loc1=0,air7_loc2=0,air7_loc3=0;
            for(var i=0;i<dd.length;i++){
                
            
                var datenew = new Date(dd[i].year_s+"-"+dd[i].month_s+"-"+dd[i].day_s);
                var nowdate =  formatDate(datenew);
                
                if((nowdate === date8) && (dd[i].location_env === 'ICU')){
                    air1_loc2 = dd[i].avg_air_q;
                }
                if((nowdate === date7) && (dd[i].location_env === 'ICU')){
                    air2_loc2 = dd[i].avg_air_q;
                }
                if((nowdate === date6) && (dd[i].location_env === 'ICU')){
                    air3_loc2 = dd[i].avg_air_q;
                }
                if((nowdate === date5) && (dd[i].location_env === 'ICU')){
                    air4_loc2 = dd[i].avg_air_q;
                }
                if((nowdate === date4) && (dd[i].location_env === 'ICU')){
                    air5_loc2 = dd[i].avg_air_q;
                }
                if((nowdate === date3) && (dd[i].location_env === 'ICU')){
                    air6_loc2 = dd[i].avg_air_q;
                }
                if((nowdate === date2) && (dd[i].location_env === 'ICU')){
                    air7_loc2 = dd[i].avg_air_q;
                }
                
                if((nowdate === date8) && (dd[i].location_env === 'LAB')){
                    air1_loc3 = dd[i].avg_air_q;
                }
                if((nowdate === date7) && (dd[i].location_env === 'LAB')){
                    air2_loc3 = dd[i].avg_air_q;
                }
                if((nowdate === date6) && (dd[i].location_env === 'LAB')){
                    air3_loc3 = dd[i].avg_air_q;
                }
                if((nowdate === date5) && (dd[i].location_env === 'LAB')){
                    air4_loc3 = dd[i].avg_air_q;
                }
                if((nowdate === date4) && (dd[i].location_env === 'LAB')){
                    air5_loc3 = dd[i].avg_air_q;
                }
                if((nowdate === date3) && (dd[i].location_env === 'LAB')){
                    air6_loc3 = dd[i].avg_air_q;
                }
                if((nowdate === date2) && (dd[i].location_env === 'LAB')){
                    air7_loc3 = dd[i].avg_air_q;
                }
              
            }
            
            
            var co1_loc1=0,co1_loc2=0,co1_loc3=0;
            var co2_loc1=0,co2_loc2=0,co2_loc3=0;
            var co3_loc1=0,co3_loc2=0,co3_loc3=0;
            var co4_loc1=0,co4_loc2=0,co4_loc3=0;
            var co5_loc1=0,co5_loc2=0,co5_loc3=0;
            var co6_loc1=0,co6_loc2=0,co6_loc3=0;
            var co7_loc1=0,co7_loc2=0,co7_loc3=0;
            for(var i=0;i<dd.length;i++){
                
                var datenew = new Date(dd[i].year_s+"-"+dd[i].month_s+"-"+dd[i].day_s);
                var nowdate =  formatDate(datenew);
                
                if((nowdate === date8) && (dd[i].location_env === 'ICU')){
                    co1_loc2 = dd[i].avg_co;
                }
                if((nowdate === date7) && (dd[i].location_env === 'ICU')){
                    co2_loc2 = dd[i].avg_co;
                }
                if((nowdate === date6) && (dd[i].location_env === 'ICU')){
                    co3_loc2 = dd[i].avg_co;
                }
                if((nowdate === date5) && (dd[i].location_env === 'ICU')){
                    co4_loc2 = dd[i].avg_co;
                }
                if((nowdate === date4) && (dd[i].location_env === 'ICU')){
                    co5_loc2 = dd[i].avg_co;
                }
                if((nowdate === date3) && (dd[i].location_env === 'ICU')){
                    co6_loc2 = dd[i].avg_co;
                }
                if((nowdate === date2) && (dd[i].location_env === 'ICU')){
                    co7_loc2 = dd[i].avg_co;
                }
                
                if((nowdate === date8) && (dd[i].location_env === 'LAB')){
                    co1_loc3 = dd[i].avg_co;
                }
                if((nowdate === date7) && (dd[i].location_env === 'LAB')){
                    co2_loc3 = dd[i].avg_co;
                }
                if((nowdate === date6) && (dd[i].location_env === 'LAB')){
                    co3_loc3 = dd[i].avg_co;
                }
                if((nowdate === date5) && (dd[i].location_env === 'LAB')){
                    co4_loc3 = dd[i].avg_co;
                }
                if((nowdate === date4) && (dd[i].location_env === 'LAB')){
                    co5_loc3 = dd[i].avg_co;
                }
                if((nowdate === date3) && (dd[i].location_env === 'LAB')){
                    co6_loc3 = dd[i].avg_co;
                }
                if((nowdate === date2) && (dd[i].location_env === 'LAB')){
                    co7_loc3 = dd[i].avg_co;
                }
              
            }
            
            
            var cot1_loc1=0,cot1_loc2=0,cot1_loc3=0;
            var cot2_loc1=0,cot2_loc2=0,cot2_loc3=0;
            var cot3_loc1=0,cot3_loc2=0,cot3_loc3=0;
            var cot4_loc1=0,cot4_loc2=0,cot4_loc3=0;
            var cot5_loc1=0,cot5_loc2=0,cot5_loc3=0;
            var cot6_loc1=0,cot6_loc2=0,cot6_loc3=0;
            var cot7_loc1=0,cot7_loc2=0,cot7_loc3=0;
            for(var i=0;i<dd.length;i++){
                
            
                var datenew = new Date(dd[i].year_s+"-"+dd[i].month_s+"-"+dd[i].day_s);
                var nowdate =  formatDate(datenew);
                
                if((nowdate === date8) && (dd[i].location_env === 'ICU')){
                    cot1_loc2 = dd[i].avg_co2;
                }
                if((nowdate === date7) && (dd[i].location_env === 'ICU')){
                    cot2_loc2 = dd[i].avg_co2;
                }
                if((nowdate === date6) && (dd[i].location_env === 'ICU')){
                    cot3_loc2 = dd[i].avg_co2;
                }
                if((nowdate === date5) && (dd[i].location_env === 'ICU')){
                    cot4_loc2 = dd[i].avg_co2;
                }
                if((nowdate === date4) && (dd[i].location_env === 'ICU')){
                    cot5_loc2 = dd[i].avg_co2;
                }
                if((nowdate === date3) && (dd[i].location_env === 'ICU')){
                    cot6_loc2 = dd[i].avg_co2;
                }
                if((nowdate === date2) && (dd[i].location_env === 'ICU')){
                    cot7_loc2 = dd[i].avg_co2;
                }
                
                if((nowdate === date8) && (dd[i].location_env === 'LAB')){
                    cot1_loc3 = dd[i].avg_co2;
                }
                if((nowdate === date7) && (dd[i].location_env === 'LAB')){
                    cot2_loc3 = dd[i].avg_co2;
                }
                if((nowdate === date6) && (dd[i].location_env === 'LAB')){
                    cot3_loc3 = dd[i].avg_co2;
                }
                if((nowdate === date5) && (dd[i].location_env === 'LAB')){
                    cot4_loc3 = dd[i].avg_co2;
                }
                if((nowdate === date4) && (dd[i].location_env === 'LAB')){
                    cot5_loc3 = dd[i].avg_co2;
                }
                if((nowdate === date3) && (dd[i].location_env === 'LAB')){
                    cot6_loc3 = dd[i].avg_co2;
                }
                if((nowdate === date2) && (dd[i].location_env === 'LAB')){
                    cot7_loc3 = dd[i].avg_co2;
                }
              
            }
            
            var tvoc1_loc1=0,tvoc1_loc2=0,tvoc1_loc3=0;
            var tvoc2_loc1=0,tvoc2_loc2=0,tvoc2_loc3=0;
            var tvoc3_loc1=0,tvoc3_loc2=0,tvoc3_loc3=0;
            var tvoc4_loc1=0,tvoc4_loc2=0,tvoc4_loc3=0;
            var tvoc5_loc1=0,tvoc5_loc2=0,tvoc5_loc3=0;
            var tvoc6_loc1=0,tvoc6_loc2=0,tvoc6_loc3=0;
            var tvoc7_loc1=0,tvoc7_loc2=0,tvoc7_loc3=0;
            for(var i=0;i<dd.length;i++){
                
            
                var datenew = new Date(dd[i].year_s+"-"+dd[i].month_s+"-"+dd[i].day_s);
                var nowdate =  formatDate(datenew);
                
                if((nowdate === date8) && (dd[i].location_env === 'ICU')){
                    tvoc1_loc2 = dd[i].avg_tvoc;
                }
                if((nowdate === date7) && (dd[i].location_env === 'ICU')){
                    tvoc2_loc2 = dd[i].avg_tvoc;
                }
                if((nowdate === date6) && (dd[i].location_env === 'ICU')){
                    tvoc3_loc2 = dd[i].avg_tvoc;
                }
                if((nowdate === date5) && (dd[i].location_env === 'ICU')){
                    tvoc4_loc2 = dd[i].avg_tvoc;
                }
                if((nowdate === date4) && (dd[i].location_env === 'ICU')){
                    tvoc5_loc2 = dd[i].avg_tvoc;
                }
                if((nowdate === date3) && (dd[i].location_env === 'ICU')){
                    tvoc6_loc2 = dd[i].avg_tvoc;
                }
                if((nowdate === date2) && (dd[i].location_env === 'ICU')){
                    tvoc7_loc2 = dd[i].avg_tvoc;
                }
                
                if((nowdate === date8) && (dd[i].location_env === 'LAB')){
                    tvoc1_loc3 = dd[i].avg_tvoc;
                }
                if((nowdate === date7) && (dd[i].location_env === 'LAB')){
                    tvoc2_loc3 = dd[i].avg_tvoc;
                }
                if((nowdate === date6) && (dd[i].location_env === 'LAB')){
                    tvoc3_loc3 = dd[i].avg_tvoc;
                }
                if((nowdate === date5) && (dd[i].location_env === 'LAB')){
                    tvoc4_loc3 = dd[i].avg_tvoc;
                }
                if((nowdate === date4) && (dd[i].location_env === 'LAB')){
                    tvoc5_loc3 = dd[i].avg_tvoc;
                }
                if((nowdate === date3) && (dd[i].location_env === 'LAB')){
                    tvoc6_loc3 = dd[i].avg_tvoc;
                }
                if((nowdate === date2) && (dd[i].location_env === 'LAB')){
                    tvoc7_loc3 = dd[i].avg_tvoc;
                }
              
            }
            /* ChartJS
             * -------
             * Here we will create a few charts using ChartJS
             */

            //--------------
            //- AREA CHART -
            //--------------

            // Get context with jQuery - using jQuery's .get() method.
            //var areaChartCanvas = $("#areaChart").get(0).getContext("2d");
            //var areaChartCanvas2 = $("#areaChart2").get(0).getContext("2d");
            // This will get the first returned node in the jQuery collection.
            //var areaChart = new Chart(areaChartCanvas);
            //var areaChart2 = new Chart(areaChartCanvas2);

            /*var areaChartDataHumidity = {
              labels: [date2, date3, date4, date5, date6, date7, date8],
              datasets: [
                {
                  label: "Molecular Lab 1",
                  fillColor: "rgba(210, 214, 222, 1)",
                  strokeColor: "rgba(210, 214, 222, 1)",
                  pointColor: "rgba(210, 214, 222, 1)",
                  pointStrokeColor: "#c1c7d1",
                  pointHighlightFill: "#fff",
                  pointHighlightStroke: "rgba(220,220,220,1)",
                  data: [hum7_loc1.toFixed(2), hum6_loc1.toFixed(2), hum5_loc1.toFixed(2), hum4_loc1.toFixed(2), hum3_loc1.toFixed(2), hum2_loc1.toFixed(2), hum1_loc1.toFixed(2)]
                },
                {
                  label: "Molecular Lab 2",
                  fillColor: "rgba(60,141,188,0.9)",
                  strokeColor: "rgba(60,141,188,0.8)",
                  pointColor: "#3b8bba",
                  pointStrokeColor: "rgba(60,141,188,1)",
                  pointHighlightFill: "#fff",
                  pointHighlightStroke: "rgba(60,141,188,1)",
                  data: [hum7_loc2.toFixed(2), hum6_loc2.toFixed(2), hum5_loc2.toFixed(2), hum4_loc2.toFixed(2), hum3_loc2.toFixed(2), hum2_loc2.toFixed(2), hum1_loc2.toFixed(2)]
                },
                {
                  label: "ICU",
                  fillColor: "rgba(60,141,188,0.9)",
                  strokeColor: "rgba(60,141,188,0.8)",
                  pointColor: "#3b8bba",
                  pointStrokeColor: "rgba(60,141,188,1)",
                  pointHighlightFill: "#fff",
                  pointHighlightStroke: "rgba(60,141,188,1)",
                  data: [hum7_loc3.toFixed(2), hum6_loc3.toFixed(2), hum5_loc3.toFixed(2), hum4_loc3.toFixed(2), hum3_loc3.toFixed(2), hum2_loc3.toFixed(2), hum1_loc3.toFixed(2)]
                }
              ]
            };*/
           
            var areaChartDataHumidity = {
              labels: [date2, date3, date4, date5, date6, date7, date8],
              datasets: [
                {
                  label: "ICU",
                  fillColor: "rgba(60,141,188,0.9)",
                  strokeColor: "rgba(60,141,188,0.8)",
                  pointColor: "#3b8bba",
                  pointStrokeColor: "rgba(60,141,188,1)",
                  pointHighlightFill: "#fff",
                  pointHighlightStroke: "rgba(60,141,188,1)",
                  data: [hum7_loc1.toFixed(2), hum6_loc1.toFixed(2), hum5_loc1.toFixed(2), hum4_loc1.toFixed(2), hum3_loc1.toFixed(2), hum2_loc1.toFixed(2), hum1_loc1.toFixed(2)]
                }
              ]
            };

            /*var areaChartDataTemp = {
              labels: [date2, date3, date4, date5, date6, date7, date8],
              datasets: [
                {
                  label: "Molecular Lab 2",
                  fillColor: "rgba(210, 214, 222, 1)",
                  strokeColor: "rgba(210, 214, 222, 1)",
                  pointColor: "rgba(210, 214, 222, 1)",
                  pointStrokeColor: "#c1c7d1",
                  pointHighlightFill: "#fff",
                  pointHighlightStroke: "rgba(220,220,220,1)",
                  data: [temp7_loc1.toFixed(2), temp6_loc1.toFixed(2), temp5_loc1.toFixed(2), temp4_loc1.toFixed(2), temp3_loc1.toFixed(2), temp2_loc1.toFixed(2), temp1_loc1.toFixed(2)]
                },
                {
                  label: "Molecular Lab 1",
                  fillColor: "rgba(60,141,188,0.9)",
                  strokeColor: "rgba(60,141,188,0.8)",
                  pointColor: "#3b8bba",
                  pointStrokeColor: "rgba(60,141,188,1)",
                  pointHighlightFill: "#fff",
                  pointHighlightStroke: "rgba(60,141,188,1)",
                  data: [temp7_loc2.toFixed(2), temp6_loc2.toFixed(2), temp5_loc2.toFixed(2), temp4_loc2.toFixed(2), temp3_loc2.toFixed(2), temp2_loc2.toFixed(2), temp1_loc2.toFixed(2)]
                },
                {
                  label: "ICU",
                  fillColor: "rgba(60,141,188,0.9)",
                  strokeColor: "rgba(60,141,188,0.8)",
                  pointColor: "#3b8bba",
                  pointStrokeColor: "rgba(60,141,188,1)",
                  pointHighlightFill: "#fff",
                  pointHighlightStroke: "rgba(60,141,188,1)",
                  data: [temp7_loc3.toFixed(2), temp6_loc3.toFixed(2), temp5_loc3.toFixed(2), temp4_loc3.toFixed(2), temp3_loc3.toFixed(2), temp2_loc3.toFixed(2), temp1_loc3.toFixed(2)]
                }
              ]
            };*/
           
            var areaChartDataTemp = {
              labels: [date2, date3, date4, date5, date6, date7, date8],
              datasets: [
                {
                  label: "ICU",
                  fillColor: "rgba(60,141,188,0.9)",
                  strokeColor: "rgba(60,141,188,0.8)",
                  pointColor: "#3b8bba",
                  pointStrokeColor: "rgba(60,141,188,1)",
                  pointHighlightFill: "#fff",
                  pointHighlightStroke: "rgba(60,141,188,1)",
                  data: [temp7_loc2.toFixed(2), temp6_loc2.toFixed(2), temp5_loc2.toFixed(2), temp4_loc2.toFixed(2), temp3_loc2.toFixed(2), temp2_loc2.toFixed(2), temp1_loc2.toFixed(2)]
                }
              ]
            };
            
            /*var areaChartDataAir = {
              labels: [date2, date3, date4, date5, date6, date7, date8],
              datasets: [
                {
                  label: "Molecular Lab 2",
                  fillColor: "rgba(210, 214, 222, 1)",
                  strokeColor: "rgba(210, 214, 222, 1)",
                  pointColor: "rgba(210, 214, 222, 1)",
                  pointStrokeColor: "#c1c7d1",
                  pointHighlightFill: "#fff",
                  pointHighlightStroke: "rgba(220,220,220,1)",
                  data: [air7_loc1.toFixed(2), air6_loc1.toFixed(2), air5_loc1.toFixed(2), air4_loc1.toFixed(2), air3_loc1.toFixed(2), air2_loc1.toFixed(2), air1_loc1.toFixed(2)]
                },
                {
                  label: "Molecular Lab 1",
                  fillColor: "rgba(60,141,188,0.9)",
                  strokeColor: "rgba(60,141,188,0.8)",
                  pointColor: "#3b8bba",
                  pointStrokeColor: "rgba(60,141,188,1)",
                  pointHighlightFill: "#fff",
                  pointHighlightStroke: "rgba(60,141,188,1)",
                  data: [air7_loc2.toFixed(2), air6_loc2.toFixed(2), air5_loc2.toFixed(2), air4_loc2.toFixed(2), air3_loc2.toFixed(2), air2_loc2.toFixed(2), air1_loc2.toFixed(2)]
                },
                {
                  label: "ICU",
                  fillColor: "rgba(60,141,188,0.9)",
                  strokeColor: "rgba(60,141,188,0.8)",
                  pointColor: "#3b8bba",
                  pointStrokeColor: "rgba(60,141,188,1)",
                  pointHighlightFill: "#fff",
                  pointHighlightStroke: "rgba(60,141,188,1)",
                  data: [air7_loc3.toFixed(2), air6_loc3.toFixed(2), air5_loc3.toFixed(2), air4_loc3.toFixed(2), air3_loc3.toFixed(2), air2_loc3.toFixed(2), air1_loc3.toFixed(2)]
                }
              ]
            };*/
        //alert(" cot7_loc2="+cot7_loc2+" cot6_loc2="+cot6_loc2+" cot5_loc2="+cot5_loc2+" cot4_loc2="+cot4_loc2+" cot3_loc2="+cot3_loc2+" cot2_loc2="+cot2_loc2+" cot1_loc2="+cot1_loc2);
        var areaChartDataAir = {
              labels: [date2, date3, date4, date5, date6, date7, date8],
              datasets: [
                {
                  label: "ICU",
                  fillColor: "rgba(60,141,188,0.9)",
                  strokeColor: "rgba(60,141,188,0.8)",
                  pointColor: "#3b8bba",
                  pointStrokeColor: "rgba(60,141,188,1)",
                  pointHighlightFill: "#fff",
                  pointHighlightStroke: "rgba(60,141,188,1)",
                  data: [cot7_loc2.toFixed(2), cot6_loc2.toFixed(2), cot5_loc2.toFixed(2), cot4_loc2.toFixed(2), cot3_loc2.toFixed(2), cot2_loc2.toFixed(2), cot1_loc2.toFixed(2)]
                }
              ]
            };
            
            /*var areaChartDataCo = {
              labels: [date2, date3, date4, date5, date6, date7, date8],
              datasets: [
                {
                  label: "Molecular Lab 2",
                  fillColor: "rgba(210, 214, 222, 1)",
                  strokeColor: "rgba(210, 214, 222, 1)",
                  pointColor: "rgba(210, 214, 222, 1)",
                  pointStrokeColor: "#c1c7d1",
                  pointHighlightFill: "#fff",
                  pointHighlightStroke: "rgba(220,220,220,1)",
                  data: [co7_loc1.toFixed(2), co6_loc1.toFixed(2), co5_loc1.toFixed(2), co4_loc1.toFixed(2), co3_loc1.toFixed(2), co2_loc1.toFixed(2), co1_loc1.toFixed(2)]
                },
                {
                  label: "Molecular Lab 1",
                  fillColor: "rgba(60,141,188,0.9)",
                  strokeColor: "rgba(60,141,188,0.8)",
                  pointColor: "#3b8bba",
                  pointStrokeColor: "rgba(60,141,188,1)",
                  pointHighlightFill: "#fff",
                  pointHighlightStroke: "rgba(60,141,188,1)",
                  data: [co7_loc2.toFixed(2), co6_loc2.toFixed(2), co5_loc2.toFixed(2), co4_loc2.toFixed(2), co3_loc2.toFixed(2), co2_loc2.toFixed(2), co1_loc2.toFixed(2)]
                },
                {
                  label: "ICU",
                  fillColor: "rgba(60,141,188,0.9)",
                  strokeColor: "rgba(60,141,188,0.8)",
                  pointColor: "#3b8bba",
                  pointStrokeColor: "rgba(60,141,188,1)",
                  pointHighlightFill: "#fff",
                  pointHighlightStroke: "rgba(60,141,188,1)",
                  data: [co7_loc3.toFixed(2), co6_loc3.toFixed(2), co5_loc3.toFixed(2), co4_loc3.toFixed(2), co3_loc3.toFixed(2), co2_loc3.toFixed(2), co1_loc3.toFixed(2)]
                }
              ]
            };*/
            //alert(" co7_loc2="+co7_loc2+" co6_loc2="+co6_loc2+" co5_loc2="+co5_loc2+" co4_loc2="+co4_loc2+" co3_loc2="+co3_loc2+" co2_loc2="+co2_loc2+" co1_loc2="+co1_loc2);
            var areaChartDataCo = {
              labels: [date2, date3, date4, date5, date6, date7, date8],
              datasets: [
                {
                  label: "ICU",
                  fillColor: "rgba(60,141,188,0.9)",
                  strokeColor: "rgba(60,141,188,0.8)",
                  pointColor: "#3b8bba",
                  pointStrokeColor: "rgba(60,141,188,1)",
                  pointHighlightFill: "#fff",
                  pointHighlightStroke: "rgba(60,141,188,1)",
                  data: [co7_loc2.toFixed(2), co6_loc2.toFixed(2), co5_loc2.toFixed(2), co4_loc2.toFixed(2), co3_loc2.toFixed(2), co2_loc2.toFixed(2), co1_loc2.toFixed(2)]
                }
              ]
            };
            
            //alert("tvoc7_loc2="+tvoc7_loc2+" tvoc6_loc2="+tvoc6_loc2+" tvoc5_loc2="+tvoc5_loc2+" tvoc4_loc2="+tvoc4_loc2+" tvoc3_loc2="+tvoc3_loc2+" tvoc2_loc2="+tvoc2_loc2+" tvoc1_loc2="+tvoc1_loc2);
            var areaChartDataTvoc = {
              labels: [date2, date3, date4, date5, date6, date7, date8],
              datasets: [
                {
                  label: "ICU",
                  fillColor: "rgba(60,141,188,0.9)",
                  strokeColor: "rgba(60,141,188,0.8)",
                  pointColor: "#3b8bba",
                  pointStrokeColor: "rgba(60,141,188,1)",
                  pointHighlightFill: "#fff",
                  pointHighlightStroke: "rgba(60,141,188,1)",
                  data: [tvoc7_loc2.toFixed(2), tvoc6_loc2.toFixed(2), tvoc5_loc2.toFixed(2), tvoc4_loc2.toFixed(2), tvoc3_loc2.toFixed(2), tvoc2_loc2.toFixed(2), tvoc1_loc2.toFixed(2)]
                }
              ]
            };

            /*var areaChartOptions = {
              //Boolean - If we should show the scale at all
              showScale: true,
              //Boolean - Whether grid lines are shown across the chart
              scaleShowGridLines: false,
              //String - Colour of the grid lines
              scaleGridLineColor: "rgba(0,0,0,.05)",
              //Number - Width of the grid lines
              scaleGridLineWidth: 1,
              //Boolean - Whether to show horizontal lines (except X axis)
              scaleShowHorizontalLines: true,
              //Boolean - Whether to show vertical lines (except Y axis)
              scaleShowVerticalLines: true,
              //Boolean - Whether the line is curved between points
              bezierCurve: true,
              //Number - Tension of the bezier curve between points
              bezierCurveTension: 0.3,
              //Boolean - Whether to show a dot for each point
              pointDot: false,
              //Number - Radius of each point dot in pixels
              pointDotRadius: 4,
              //Number - Pixel width of point dot stroke
              pointDotStrokeWidth: 1,
              //Number - amount extra to add to the radius to cater for hit detection outside the drawn point
              pointHitDetectionRadius: 20,
              //Boolean - Whether to show a stroke for datasets
              datasetStroke: true,
              //Number - Pixel width of dataset stroke
              datasetStrokeWidth: 2,
              //Boolean - Whether to fill the dataset with a color
              datasetFill: true,
              //String - A legend template
              legendTemplate: "<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<datasets.length; i++){%><li><span style=\"background-color:<%=datasets[i].lineColor%>\"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>",
              //Boolean - whether to maintain the starting aspect ratio or not when responsive, if set to false, will take up entire container
              maintainAspectRatio: true,
              //Boolean - whether to make the chart responsive to window resizing
              responsive: true
            };

            //Create the line chart
            areaChart.Line(areaChartDataTemp, areaChartOptions);
            areaChart2.Line(areaChartDataAir, areaChartOptions);

            //-------------
            //- LINE CHART -
            //--------------
            var lineChartCanvas = $("#lineChart").get(0).getContext("2d");
            var lineChart = new Chart(lineChartCanvas);
            var lineChartOptions = areaChartOptions;
            lineChartOptions.datasetFill = false;
            lineChart.Line(areaChartDataHumidity, lineChartOptions);*/

            //-------------
            //- PIE CHART -
            //-------------
            // Get context with jQuery - using jQuery's .get() method.
        //    var pieChartCanvas = $("#pieChart").get(0).getContext("2d");
        //    var pieChart = new Chart(pieChartCanvas);
        //    var PieData = [
        //      {
        //        value: 700,
        //        color: "#f56954",
        //        highlight: "#f56954",
        //        label: "Chrome"
        //      },
        //      {
        //        value: 500,
        //        color: "#00a65a",
        //        highlight: "#00a65a",
        //        label: "IE"
        //      },
        //      {
        //        value: 400,
        //        color: "#f39c12",
        //        highlight: "#f39c12",
        //        label: "FireFox"
        //      },
        //      {
        //        value: 600,
        //        color: "#00c0ef",
        //        highlight: "#00c0ef",
        //        label: "Safari"
        //      },
        //      {
        //        value: 300,
        //        color: "#3c8dbc",
        //        highlight: "#3c8dbc",
        //        label: "Opera"
        //      },
        //      {
        //        value: 100,
        //        color: "#d2d6de",
        //        highlight: "#d2d6de",
        //        label: "Navigator"
        //      }
        //    ];
        //    var pieOptions = {
        //      //Boolean - Whether we should show a stroke on each segment
        //      segmentShowStroke: true,
        //      //String - The colour of each segment stroke
        //      segmentStrokeColor: "#fff",
        //      //Number - The width of each segment stroke
        //      segmentStrokeWidth: 2,
        //      //Number - The percentage of the chart that we cut out of the middle
        //      percentageInnerCutout: 50, // This is 0 for Pie charts
        //      //Number - Amount of animation steps
        //      animationSteps: 100,
        //      //String - Animation easing effect
        //      animationEasing: "easeOutBounce",
        //      //Boolean - Whether we animate the rotation of the Doughnut
        //      animateRotate: true,
        //      //Boolean - Whether we animate scaling the Doughnut from the centre
        //      animateScale: false,
        //      //Boolean - whether to make the chart responsive to window resizing
        //      responsive: true,
        //      // Boolean - whether to maintain the starting aspect ratio or not when responsive, if set to false, will take up entire container
        //      maintainAspectRatio: true,
        //      //String - A legend template
        //      legendTemplate: "<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<segments.length; i++){%><li><span style=\"background-color:<%=segments[i].fillColor%>\"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>"
        //    };
        //    //Create pie or douhnut chart
        //    // You can switch between pie and douhnut using the method below.
        //    pieChart.Doughnut(PieData, pieOptions);

            //-------------
            //- BAR CHART -
            //-------------
            //alert("done1");
            var barChartCanvas1 = $("#barChartTemp").get(0).getContext("2d");
            var barChartCanvas2 = $("#barChartHum").get(0).getContext("2d");
            var barChartCanvas3 = $("#barChartAir").get(0).getContext("2d");
            var barChartCanvas4 = $("#barChartCo").get(0).getContext("2d");
            var barChartCanvas5 = $("#barChartTvoc").get(0).getContext("2d");
            //alert("done11");
            var barChart1 = new Chart(barChartCanvas1);
            var barChart2 = new Chart(barChartCanvas2);
            var barChart3 = new Chart(barChartCanvas3);
            var barChart4 = new Chart(barChartCanvas4);
            var barChart5 = new Chart(barChartCanvas5);
            //alert("done12");
            var barChartData1 = areaChartDataTemp;
            var barChartData2 = areaChartDataHumidity;
            var barChartData3 = areaChartDataAir;
            var barChartData4 = areaChartDataCo;
            var barChartData5 = areaChartDataTvoc;
            //alert("done13");
            
            //alert("done2");
            var barChartOptions = {
              //Boolean - Whether the scale should start at zero, or an order of magnitude down from the lowest value
              scaleBeginAtZero: true,
              //Boolean - Whether grid lines are shown across the chart
              scaleShowGridLines: true,
              //String - Colour of the grid lines
              scaleGridLineColor: "rgba(0,0,0,.05)",
              //Number - Width of the grid lines
              scaleGridLineWidth: 1,
              //Boolean - Whether to show horizontal lines (except X axis)
              scaleShowHorizontalLines: true,
              //Boolean - Whether to show vertical lines (except Y axis)
              scaleShowVerticalLines: true,
              //Boolean - If there is a stroke on each bar
              barShowStroke: true,
              //Number - Pixel width of the bar stroke
              barStrokeWidth: 2,
              //Number - Spacing between each of the X value sets
              barValueSpacing: 5,
              //Number - Spacing between data sets within X values
              barDatasetSpacing: 1,
              //String - A legend template
              legendTemplate: "<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<datasets.length; i++){%><li><span style=\"background-color:<%=datasets[i].fillColor%>\"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>",
              //Boolean - whether to make the chart responsive
              responsive: true,
              maintainAspectRatio: true
            };
            //alert("done3");
            barChartOptions.datasetFill = false;
            barChart1.Bar(barChartData1, barChartOptions);
            barChart2.Bar(barChartData2, barChartOptions);
            barChart3.Bar(barChartData3, barChartOptions);
            barChart4.Bar(barChartData4, barChartOptions);
            barChart5.Bar(barChartData5, barChartOptions);
            //alert("done4");
          });
         