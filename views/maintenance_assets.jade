extends base_datatables
block content 
    section.content-header 
        h1 
            | Maintenance
            
        ol.breadcrumb 
            li 
                a(href='#') 
                    i.fa.fa-dashboard
                    | Maintenance 
            
    section.content
        .box
            .box-header.with-border
                h3.box-title
                    | Maintenance List&nbsp&nbsp
                        
            .box-body
                - if(messages.msg_info)
                    .alert.alert-success.alert-dismissable
                        button.close(type='button', data-dismiss='alert', aria-hidden='true')
                            | ×
                        h4
                            i.icon.fa.fa-check
                            | Success!
                        | !{messages.msg_info}
                - if(messages.msg_error)
                    .alert.alert-danger.alert-dismissable
                        button.close(type='button', data-dismiss='alert', aria-hidden='true')
                            | ×
                        h4
                            i.icon.fa.fa-ban
                            | Alert!
                        | !{messages.msg_error}
                        
                //form(role="form")
                  div.form-group
                    label(for="asset_id",class="col-sm-2 control-label") Asset ID
                    div.col-sm-4
                      input(type="text",class="form-control",id="asset_id",placeholder="Asset ID")
                  div.form-group
                    label(for="tag_id",class="col-sm-2 control-label") Tag ID
                    div.col-sm-4
                      input(type="text",class="form-control",id="tag_id",placeholder="Tag ID")
                      |&nbsp
                  div.form-group
                    label(for="description",class="col-sm-2 control-label") Description
                    div.col-sm-4
                      input(type="text",class="form-control",id="description",placeholder="Description")
                  div.form-group
                    div.col-sm-4
                      button(type="button",class="btn btn-primary",id="submit_btn",style="align:right") Search
                
                table(id="example",class="table table-bordered table-striped")
                   thead
                     tr
                       th No
                       th Tag Id
                       th Assets Id
                       th Assets Description
                       th Department
                       th Photo
                       th Warranty End
                   tbody
                       if messages.msg_error
                                | !{messages.msg_error}
                            else
                                for row, index in data
                                  - var times;
                                  - if (row.assets_warranty_end === null){times = "00/00/00, 00:00:00";}
                                  - else {times = row.assets_warranty_end.toLocaleString();}
                                    tr
                                        td #{index+1}
                                        td #{row.assets_rfid}
                                        td #{row.assets_no}
                                        td #{row.assets_item_desc}
                                        td #{row.dept_desc}
                                        td 
                                          if row.assets_img_path !== null
                                             img(src='#{row.assets_img_path}',height='60', width='60')
                                          else
                                             img(src='uploads/no_image.jpg',height='60', width='60')
                                        td #{times}